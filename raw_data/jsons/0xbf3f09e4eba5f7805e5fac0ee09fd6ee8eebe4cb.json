{"SourceCode": "pragma solidity ^0.4.18;\r\n\r\ninterface tokenRecipient { function receiveApproval(address _from, uint256 _value, address _token, bytes _extraData) external; }\r\n\r\ncontract BGXToken {\r\n    // \u4ee5\u4e0b\u53c2\u6570\u6d4b\u8bd5\u65f6\u4f1a\u4e34\u65f6\u4fee\u6539\uff0c\u5728\u6b63\u5f0f\u53d1\u5e03\u65f6\u9700\u8981\u4fee\u6b63\u4e3a\u6b63\u5f0f\u53c2\u6570 ======>\r\n    string public name = \"BIT GAME EXCHANGE\";\r\n    string public symbol = \"BGX\";\r\n\r\n    address ethFundAddress = 0x7C235ac7b006d829990384018B0E98fDf0bA5EF7; // \u4ee5\u592a\u574a\u8f49\u5b58\u5730\u5740\r\n    address icoAddress = 0xC817a2afe8F6ba1a697dAaA1df834e18Be9403e7; // ICO\u5730\u5740\r\n    address[] foundationAddresses = [0xBc9d9A1EE11dC2803BA2daaAa892483052Ed97f5,\r\n                                     0x3CA55e25C110b175B6622586aC31a6682a916670,\r\n                                     0xF13b2d7c5d6d6E93f79D41FA72cFD33A75c0607d,\r\n                                     0xc321Cf1D0ab11743cB5dDB4d77F6Ede8a08D3281,\r\n                                     0xf7179c8A47F511E4fcAcA9b6187ED4052cBBB7BB,\r\n                                     0x516c06F2A390E62c2F6cB3C2E38c5c6dF5A17141,\r\n                                     0xE71a86f7FFa3E3aA92e5cA6b6df8B56d8600c7D9]; // \u57fa\u91d1\u4f1a\u5730\u5740\uff0c7\u4e2a\r\n    address[] teamAddresses = [0x3CFdEC9041b04a7eEb07a732B964a5B33f9Ebe1F]; // \u56e2\u961f\u5730\u5740\uff0c1\u4e2a\r\n    address[] miningAddresses = [0x710967a31D79BCFBF053292aB21Bbc559e288407,\r\n                                 0x7bF52Ef4b6e8bEeB24c4Dea4c8e94177739561a0]; // \u6316\u77ff\u5730\u5740\uff0c2\u4e2a\r\n    address[] angelAddresses = [0x122399734D64d6c4aa46b85959A3304CA812161f]; // \u5929\u4f7f\u5730\u5740\uff0c1\u4e2a\r\n    address[] cornerstoneAddresses = [0x9d35F83982A479F611fa893452f6876972Ec6348,\r\n                                      0x1EAf530897EB1D93fF4373889d9cfd5a1E405D1B,\r\n                                      0x377221D5b7776C1Ba4B8e8d11a32CF9a7469A095,\r\n                                      0xc4381bc9dDFaa8A9954CF2615F80F8Fc145E024F,\r\n                                      0x699a3be17F729F3eB965fBb7d71Db185016B1215,\r\n                                      0x9F793B134E41Bb404142B598E05Ea6ed5477D392,\r\n                                      0xA7FF388DAfD240505f9a1d3ca37c15E058B9D4ea]; // \u57fa\u77f3\u5730\u5740\uff0c7\u4e2a\r\n    address[] preIcoAddresses = [0x4d1Ffd49d47552adcaf1729b9C4A2320419b81E1]; // PreICO\u5730\u5740\uff0c1\u4e2a\r\n\r\n    uint256 startTime = 1525708800; // \u5f00\u59cb\u65f6\u95f4\u6233\uff0c2018/5/8 0:0:0 UTC-0\r\n    uint256 endTime = 1528473600; // \u7ed3\u675f\u65f6\u95f4\u6233\uff0c2018/6/9 0:0:0 UTC-0\r\n    uint256 lockEndTime = 1528473600; // \u9501\u5b9a\u7ed3\u675f\u65f6\u95f4\u6233\uff0c2018/6/9 0:0:0 UTC-0\r\n    // <====== \u6b63\u5f0f\u53d1\u5e03\u9700\u8981\u4fee\u6b63\u7684\u53c2\u6570\r\n\r\n    uint256 public decimals = 18;\r\n    uint256 DECIMALSFACTOR = 10 ** decimals;\r\n    uint256 constant weiDECIMALS = 18; // \u4ee5\u592a\u5e01\u7684\u5c0f\u6570\u4f4d\r\n    uint256 weiFACTOR = 10 ** weiDECIMALS; // \u4ee5\u592a\u5e01\u7684\u5355\u4f4d\u6362\u7b97\u503c\r\n\r\n    uint256[] foundationAmounts = [5 * (10**8) * DECIMALSFACTOR,\r\n                                   5 * (10**8) * DECIMALSFACTOR,\r\n                                   1 * (10**8) * DECIMALSFACTOR,\r\n                                   1 * (10**8) * DECIMALSFACTOR,\r\n                                   1 * (10**8) * DECIMALSFACTOR,\r\n                                   1 * (10**8) * DECIMALSFACTOR,\r\n                                   1 * (10**8) * DECIMALSFACTOR];\r\n    uint256[] teamAmounts = [15 * (10**8) * DECIMALSFACTOR];\r\n    uint256[] miningAmounts = [15 * (10**8) * DECIMALSFACTOR,\r\n                               15 * (10**8) * DECIMALSFACTOR];\r\n    uint256[] angelAmounts = [5 * (10**8) * DECIMALSFACTOR];\r\n    uint256[] cornerstoneAmounts = [1 * (10**8) * DECIMALSFACTOR,\r\n                                    1 * (10**8) * DECIMALSFACTOR,\r\n                                    1 * (10**8) * DECIMALSFACTOR,\r\n                                    1 * (10**8) * DECIMALSFACTOR,\r\n                                    1 * (10**8) * DECIMALSFACTOR,\r\n                                    2 * (10**8) * DECIMALSFACTOR,\r\n                                    3 * (10**8) * DECIMALSFACTOR];\r\n    uint256[] preIcoAmounts = [5 * (10**8) * DECIMALSFACTOR];\r\n\r\n    address contractOwner;\r\n    uint256 ethRaised = 0; // \u6536\u5230\u7684ETH\u603b\u6570\u91cf\uff0c\u5355\u4f4dWei\r\n    uint256 donationCount; // \u53c2\u4e0e\u7684\u603b\u6b21\u6570\r\n\r\n    uint256 public totalSupply = 100 * (10**8) * DECIMALSFACTOR; // \u603b\u91cf100\u4ebf\r\n    uint256 public availableSupply = totalSupply; // \u5269\u4f59\u7684\u4ee3\u5e01\u6570\u91cf\r\n    uint256 hardCap = 30000 * weiFACTOR; // \u786c\u98763\u4e07ETH\r\n    uint256 minimumDonation = 1 * 10 ** (weiDECIMALS - 1); // \u6700\u4f4e\u53c2\u4e0e0.1ETH\u624d\u80fd\u53c2\u4e0e\r\n\r\n    bool public finalised = false;\r\n\r\n    // \u5b58\u50a8\u6240\u6709\u7528\u6237\u7684\u4ee3\u5e01\u4f59\u989d\u503c\r\n    mapping (address => uint256) public balanceOf;\r\n    mapping (address => mapping (address => uint256)) public allowance;\r\n\r\n    // This generates a public event on the blockchain that will notify clients\r\n    event Transfer(address indexed from, address indexed to, uint256 value);\r\n\r\n    // This notifies clients about the amount burnt\r\n    event Burn(address indexed from, uint256 value);\r\n\r\n    function BGXToken() public {\r\n        contractOwner = msg.sender;\r\n\r\n        // \u91c7\u7528\u7d2f\u52a0\u65b9\u5f0f\uff0c\u9632\u6b62\u6709\u5730\u5740\u91cd\u590d\r\n        uint i = 0;\r\n        for (i = 0; i < foundationAddresses.length; i++){\r\n            balanceOf[foundationAddresses[i]] += foundationAmounts[i];\r\n            availableSupply -= foundationAmounts[i];\r\n            emit Transfer(address(0), foundationAddresses[i], foundationAmounts[i]);\r\n        }\r\n        for (i = 0; i < teamAddresses.length; i++){\r\n            balanceOf[teamAddresses[i]] += teamAmounts[i];\r\n            availableSupply -= teamAmounts[i];\r\n            emit Transfer(address(0), teamAddresses[i], teamAmounts[i]);\r\n        }\r\n        for (i = 0; i < miningAddresses.length; i++){\r\n            balanceOf[miningAddresses[i]] += miningAmounts[i];\r\n            availableSupply -= miningAmounts[i];\r\n            emit Transfer(address(0), miningAddresses[i], miningAmounts[i]);\r\n        }\r\n        for (i = 0; i < angelAddresses.length; i++){\r\n            balanceOf[angelAddresses[i]] += angelAmounts[i];\r\n            availableSupply -= angelAmounts[i];\r\n            emit Transfer(address(0), angelAddresses[i], angelAmounts[i]);\r\n        }\r\n        for (i = 0; i < cornerstoneAddresses.length; i++){\r\n            balanceOf[cornerstoneAddresses[i]] += cornerstoneAmounts[i];\r\n            availableSupply -= cornerstoneAmounts[i];\r\n            emit Transfer(address(0), cornerstoneAddresses[i], cornerstoneAmounts[i]);\r\n        }\r\n        for (i = 0; i < preIcoAddresses.length; i++){\r\n            balanceOf[preIcoAddresses[i]] += preIcoAmounts[i];\r\n            availableSupply -= preIcoAmounts[i];\r\n            emit Transfer(address(0), preIcoAddresses[i], preIcoAmounts[i]);\r\n        }\r\n\r\n        // \u5269\u4e0b\u7684\u4ee3\u5e01\u521d\u59cb\u90fd\u5b58\u5728ICO\u7684\u5730\u5740\u4e0a\r\n        balanceOf[icoAddress] = availableSupply;\r\n        emit Transfer(address(0), icoAddress, availableSupply);\r\n    }\r\n\r\n    // fallback\u65b9\u6cd5\uff0c\u5982\u679c\u7528\u6237\u672a\u5728\u8f6c\u8d26data\u4e2d\u6dfb\u52a0\u6570\u636e\uff0c\u9ed8\u8ba4\u662f\u8d70\u8fd9\u4e2a\u65b9\u6cd5\r\n    function () payable public {\r\n        require(!finalised);\r\n\r\n        // \u5224\u65ad\u662f\u5426\u5728\u9879\u76ee\u89c4\u5b9a\u7684\u65f6\u95f4\u8303\u56f4\u5185\r\n        require(block.timestamp >= startTime);\r\n        require(block.timestamp <= endTime);\r\n\r\n        // \u5224\u65ad\u786c\u9876\r\n        require(ethRaised < hardCap);\r\n\r\n        // \u8fbe\u5230\u6700\u4f4e\u6350\u8d60\u989d\u5ea6\u624d\u80fd\u7ee7\u7eed\uff0c\u5426\u5219\u5931\u8d25\r\n        require(msg.value >= minimumDonation);\r\n\r\n        uint256 etherValue = msg.value;\r\n\r\n        // \u8fb9\u754c\u6761\u4ef6\uff0c\u672a\u8d85\u8fc7\u90e8\u5206\u7684ETH\u6b63\u5e38\u6536\u7eb3\uff0c\u8d85\u8fc7\u7684\u90e8\u5206\u9000\u56de\u7ed9\u7528\u6237\r\n        if (ethRaised + etherValue > hardCap){\r\n            etherValue = hardCap - ethRaised;\r\n            // \u8d85\u8fc7\u7684\u90e8\u5206\u9000\u56de\u7ed9\u7528\u6237\r\n            assert(msg.value > etherValue);\r\n            msg.sender.transfer(msg.value - etherValue);\r\n        }\r\n\r\n        // \u8f6c\u79fbETH\u5230\u6307\u5b9aETH\u5b58\u5e01\u5730\u5740\r\n        ethFundAddress.transfer(etherValue);\r\n\r\n        donationCount += 1;\r\n        ethRaised += etherValue;\r\n    }\r\n\r\n    /**\r\n     * Internal transfer, only can be called by this contract\r\n     */\r\n    function _transfer(address _from, address _to, uint _value) internal {\r\n        // Prevent transfer to 0x0 address. Use burn() instead\r\n        require(_to != 0x0);\r\n        // Check if the sender has enough\r\n        require(balanceOf[_from] >= _value);\r\n        // Check for overflows\r\n        require(balanceOf[_to] + _value > balanceOf[_to]);\r\n        // Save this for an assertion in the future\r\n        uint previousBalances = balanceOf[_from] + balanceOf[_to];\r\n        // Subtract from the sender\r\n        balanceOf[_from] -= _value;\r\n        // Add the same to the recipient\r\n        balanceOf[_to] += _value;\r\n        emit Transfer(_from, _to, _value);\r\n        // Asserts are used to use static analysis to find bugs in your code. They should never fail\r\n        assert(balanceOf[_from] + balanceOf[_to] == previousBalances);\r\n    }\r\n\r\n    function _isInWhiteAddresses(address _from) internal view returns (bool success) {\r\n        if (icoAddress == _from){\r\n            return true;\r\n        }\r\n        uint i = 0;\r\n        for (i = 0; i < foundationAddresses.length; i++){\r\n            if (foundationAddresses[i] == _from){\r\n                return true;\r\n            }\r\n        }\r\n        for (i = 0; i < teamAddresses.length; i++){\r\n            if (teamAddresses[i] == _from){\r\n                return true;\r\n            }\r\n        }\r\n        for (i = 0; i < miningAddresses.length; i++){\r\n            if (miningAddresses[i] == _from){\r\n                return true;\r\n            }\r\n        }\r\n        for (i = 0; i < angelAddresses.length; i++){\r\n            if (angelAddresses[i] == _from){\r\n                return true;\r\n            }\r\n        }\r\n        for (i = 0; i < cornerstoneAddresses.length; i++){\r\n            if (cornerstoneAddresses[i] == _from){\r\n                return true;\r\n            }\r\n        }\r\n        for (i = 0; i < preIcoAddresses.length; i++){\r\n            if (preIcoAddresses[i] == _from){\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    function transfer(address _to, uint256 _value) public {\r\n        require(block.timestamp > lockEndTime || _isInWhiteAddresses(msg.sender));\r\n        _transfer(msg.sender, _to, _value);\r\n    }\r\n\r\n    function transferFrom(address _from, address _to, uint256 _value) public returns (bool success) {\r\n        require(block.timestamp > lockEndTime || _isInWhiteAddresses(_from));\r\n        require(_value <= allowance[_from][msg.sender]);     // Check allowance\r\n        allowance[_from][msg.sender] -= _value;\r\n        _transfer(_from, _to, _value);\r\n        return true;\r\n    }\r\n\r\n    function approve(address _spender, uint256 _value) public returns (bool success) {\r\n        allowance[msg.sender][_spender] = _value;\r\n        return true;\r\n    }\r\n\r\n    function approveAndCall(address _spender, uint256 _value, bytes _extraData) public returns (bool success) {\r\n        tokenRecipient spender = tokenRecipient(_spender);\r\n        if (approve(_spender, _value)) {\r\n            spender.receiveApproval(msg.sender, _value, this, _extraData);\r\n            return true;\r\n        }\r\n    }\r\n\r\n    function burn(uint256 _value) public returns (bool success) {\r\n        require(block.timestamp > lockEndTime);\r\n        require(balanceOf[msg.sender] >= _value);   // Check if the sender has enough\r\n        balanceOf[msg.sender] -= _value;            // Subtract from the sender\r\n        totalSupply -= _value;                      // Update totalSupply\r\n        emit Burn(msg.sender, _value);\r\n        return true;\r\n    }\r\n\r\n    function burnFrom(address _from, uint256 _value) public returns (bool success) {\r\n        require(block.timestamp > lockEndTime);\r\n        require(balanceOf[_from] >= _value);                // Check if the targeted balance is enough\r\n        require(_value <= allowance[_from][msg.sender]);    // Check allowance\r\n        balanceOf[_from] -= _value;                         // Subtract from the targeted balance\r\n        allowance[_from][msg.sender] -= _value;             // Subtract from the sender's allowance\r\n        totalSupply -= _value;                              // Update totalSupply\r\n        emit Burn(_from, _value);\r\n        return true;\r\n    }\r\n\r\n    function finalise() public {\r\n        require(msg.sender == contractOwner);\r\n        require(!finalised);\r\n\r\n        finalised = true;\r\n    }\r\n\r\n    function setLockEndTime(uint256 t) public {\r\n        require(msg.sender == contractOwner);\r\n        lockEndTime = t;\r\n    }\r\n}", "ABI": "[{\"constant\":true,\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_spender\",\"type\":\"address\"},{\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"t\",\"type\":\"uint256\"}],\"name\":\"setLockEndTime\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"finalised\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_from\",\"type\":\"address\"},{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"burn\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_from\",\"type\":\"address\"},{\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"burnFrom\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"availableSupply\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"finalise\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_spender\",\"type\":\"address\"},{\"name\":\"_value\",\"type\":\"uint256\"},{\"name\":\"_extraData\",\"type\":\"bytes\"}],\"name\":\"approveAndCall\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"address\"}],\"name\":\"allowance\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Burn\",\"type\":\"event\"}]", "ContractName": "BGXToken", "CompilerVersion": "v0.4.21+commit.dfe3193c", "OptimizationUsed": "1", "Runs": "200", "ConstructorArguments": "", "EVMVersion": "Default", "Library": "", "LicenseType": "", "Proxy": "0", "Implementation": "", "SwarmSource": "bzzr://014d63e92cf21a082ab178b941422340e50654a061f252e8941f7552e27a7bfc"}